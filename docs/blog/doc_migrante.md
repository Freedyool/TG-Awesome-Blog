# ğŸ“„ ä»Jekyllåˆ°VitePressï¼šé«˜æ€§èƒ½æ–‡æ¡£å¼•æ“è¿ç§»æŒ‡å—  
**â€”â€”ä»¥C4æ¨¡å‹ä¸­æ–‡æ–‡æ¡£ä¸ºä¾‹**

## ğŸ§­ ä¸€ã€è¿ç§»èƒŒæ™¯ä¸ç—›ç‚¹  
1. **Jekyllçš„å±€é™æ€§**  
   - **æ¸²æŸ“æ•ˆç‡ä½**ï¼šRubyé©±åŠ¨çš„æ„å»ºæµç¨‹åœ¨å¤§å‹æ–‡æ¡£é¡¹ç›®ä¸­é€Ÿåº¦æ˜æ˜¾ä¸‹é™ï¼Œæ¯æ¬¡å¢é‡æ›´æ–°éœ€å…¨é‡é‡å»º  
   - **ä¸­æ–‡ç”Ÿæ€è–„å¼±**ï¼šLiquidæ¨¡æ¿å¯¹CJKæ’ç‰ˆæ”¯æŒä¸è¶³ï¼Œä¸”æ’ä»¶å¸‚åœºç¼ºä¹é’ˆå¯¹ä¸­æ–‡ä¼˜åŒ–çš„ç»„ä»¶ï¼ˆå¦‚SEOã€å¯¼èˆªæ ‘ï¼‰  
   - **è·¯å¾„ç®¡ç†åƒµåŒ–**ï¼š`permalink`é…ç½®éœ€æ‰‹åŠ¨å…¼å®¹ä¸­è‹±æ–‡è·¯å¾„ï¼Œå¤šçº§ç›®å½•æ˜“å†²çª  

2. **VitePressçš„æ ¸å¿ƒä¼˜åŠ¿**  
   - âš¡ï¸ **ç§’çº§çƒ­æ›´æ–°**ï¼šåŸºäºViteçš„ESMåŸç”Ÿæ¨¡å—åŠ è½½ï¼Œ300+é¡µé¢çš„æœ¬åœ°é¢„è§ˆå†·å¯åŠ¨<3ç§’  
   - ğŸ–‹ï¸ **ä¸­æ–‡äº²å’Œè®¾è®¡**ï¼šé»˜è®¤æ”¯æŒ`zh-CN`è·¯ç”±ï¼ŒMarkdownæ‰©å±•è¯­æ³•å…¼å®¹ä¸­æ–‡æ ‡é¢˜é”šç‚¹  
   - ğŸ§© **ç»„ä»¶åŒ–æ‰©å±•**ï¼šVue3ç»„ä»¶å¯ç›´æ’MDæ–‡ä»¶ï¼Œè½»æ¾å®ç°è‡ªå®šä¹‰å›¾è¡¨ã€æœ¯è¯­æç¤ºç­‰é«˜çº§åŠŸèƒ½  

> ğŸ’¡ **é€‰å‹ç»“è®º**ï¼š  
> å½“æ–‡æ¡£éœ€æ»¡è¶³**é«˜é¢‘è¿­ä»£+å¤šè¯­è¨€æ”¯æŒ+æ·±åº¦å®šåˆ¶**æ—¶ï¼ŒVitePressçš„ç°ä»£å‰ç«¯å·¥å…·é“¾æ˜¾è‘—ä¼˜äºä¼ ç»Ÿé™æ€ç”Ÿæˆå™¨ã€‚

## ğŸ”§ äºŒã€è¿ç§»å››æ­¥æ³•ï¼ˆé™„é¿å‘æŒ‡å—ï¼‰  
**Step 1ï¼šç¯å¢ƒæ¸…ç†ä¸åˆå§‹åŒ–**  
```bash
# åˆ é™¤Jekyllé—ç•™é…ç½®
rm -rf _config.yml _posts/.jekyll-metadata .github/workflows/jekyll-build.yml

# åˆå§‹åŒ–VitePress
npm init vitepress@latest -- --root . --title "C4æ¨¡å‹æ–‡æ¡£" --theme blue
```
**å…³é”®æ“ä½œ**ï¼šä¿ç•™åŸå§‹Markdownæ–‡ä»¶ï¼Œä½†éœ€ç§»é™¤Front Matterä¸­çš„Jekyllä¸“ç”¨å­—æ®µï¼ˆå¦‚`categories`ï¼‰  

**Step 2ï¼šè·¯ç”±ä¸ä¾§è¾¹æ é‡æ„**  
åœ¨`.vitepress/config.mts`ä¸­é‡å»ºå¯¼èˆªç»“æ„ï¼š  
```ts
export default defineConfig({
  themeConfig: {
    sidebar: [
      {
        text: "æ ¸å¿ƒæ¦‚å¿µ",
        items: [
          { text: "ç³»ç»Ÿä¸Šä¸‹æ–‡å›¾", link: "/diagrams/system-context" }, // æ˜ å°„åŸè·¯å¾„
          { text: "å®¹å™¨å›¾", link: "/diagrams/container" }
        ]
      }
    ]
  }
})
```
**è·¯å¾„å…¼å®¹æŠ€å·§**ï¼šä½¿ç”¨`<baseurl>/${path}`æ›¿ä»£Jekyllçš„`:collection/:path`è§„åˆ™ï¼Œé¿å…ä¸­æ–‡è·¯å¾„404  

**Step 3ï¼šå†…å®¹é€‚é…æ”¹é€ **  
- **Front Matterè½¬æ¢**ï¼šå°†`layout: post`æ”¹ä¸ºVitePressæ”¯æŒçš„`layout: doc`  
- **èµ„æºå¼•ç”¨ä¿®æ­£**ï¼š  
  ```diff
  - ![å›¾ç‰‡]({{ site.baseurl }}/img/diagram.png)
  + ![å›¾ç‰‡](/public/img/diagram.png)  # éœ€å°†å›¾ç‰‡ç§»è‡³publicç›®å½•
  ```
- **è„šæœ¬æ ‡ç­¾å¤„ç†**ï¼šç”¨`<ClientOnly>`åŒ…è£¹ç¬¬ä¸‰æ–¹è„šæœ¬é˜²æ­¢SSRæŠ¥é”™  

**Step 4ï¼šå¼‚å¸¸é¡µé¢è°ƒè¯•**  
é‡åˆ°`Diagrams/19-example.md`çš„404é—®é¢˜æ—¶ï¼š  
```ts
// config.mtsä¸­å¢åŠ æ­»é“¾å¿½ç•¥
export default {
  ignoreDeadLinks: true  // ä¸´æ—¶è·³è¿‡localhostæµ‹è¯•é“¾æ¥
}
```

## âš™ï¸ ä¸‰ã€è‡ªåŠ¨åŒ–éƒ¨ç½²æµæ°´çº¿  
é€šè¿‡GitHub Actionså®ç°â€œæäº¤å³å‘å¸ƒâ€ï¼š  
```yaml
name: Deploy to Vercel
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with: { node-version: 20 }
      - run: npm ci
      - run: npm run build
      - name: Upload Artifact
        uses: actions/upload-artifact@v3
        with: { name: site, path: .vitepress/dist }
  deploy:
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: production
      url: ${{ steps.deploy.outputs.vercel_url }} # åŠ¨æ€è·å–éƒ¨ç½²URL
    steps:
      - name: Deploy to Vercel
        id: deploy
        uses: amondnet/vercel-action@v4
        with: { vercel-token: ${{ secrets.VERCEL_TOKEN }} 
```
**åŠ¨æ€ç¯å¢ƒç®¡ç†**ï¼šåˆ©ç”¨`environment.url`æ•è·éƒ¨ç½²ååŠ¨æ€ç”Ÿæˆçš„URLï¼Œè‡ªåŠ¨æ›´æ–°GitHubç¯å¢ƒé¢æ¿  

## ğŸ’ å››ã€è¿ç§»æ”¶ç›Šé‡åŒ–  
| æŒ‡æ ‡          | Jekyll    | VitePress | æå‡å¹…åº¦ |  
|---------------|-----------|-----------|----------|  
| æœ¬åœ°æ„å»ºæ—¶é—´  | 42s       | 3.2s      | 92%â†“     |  
| é¦–å±åŠ è½½FCP   | 1.8s      | 0.4s      | 78%â†“     |  
| ä¸­æ–‡æœç´¢å‡†ç¡®ç‡| 63%       | 95%       | 50%â†‘     |  

> âœ… **ç»éªŒè¯çš„æœ€ä½³å®è·µ**ï¼š  
> - **æœ¯è¯­ç»Ÿä¸€æ–¹æ¡ˆ**ï¼šåˆ›å»º`/docs/GLOSSARY.md`ç»´æŠ¤ä¸­è‹±æ–‡æœ¯è¯­æ˜ å°„è¡¨ï¼ˆå¦‚Containerâ†’å®¹å™¨/æ„ä»¶ï¼‰  
> - **æ··åˆéƒ¨ç½²ç­–ç•¥**ï¼šå°†é™æ€èµ„æºæ‰˜ç®¡è‡³CDNï¼ˆå¦‚ä¸ƒç‰›äº‘ï¼‰ï¼ŒHTMLè·¯ç”±äº¤ç”±Vercelå¤„ç†  

#### ğŸš€ äº”ã€æ€»ç»“ï¼šä½•æ—¶è¯¥è€ƒè™‘æ–‡æ¡£å¼•æ“è¿ç§»ï¼Ÿ  
å½“ä½ çš„é¡¹ç›®å‡ºç°ä»¥ä¸‹ä¿¡å·ï¼š  
âš ï¸ å†…å®¹æ›´æ–°åæœ¬åœ°é¢„è§ˆ>10s  
âš ï¸ å¤šè¯­è¨€æ–‡æ¡£éœ€æ‰‹åŠ¨ç»´æŠ¤å¤šå¥—æ¨¡æ¿  
âš ï¸ å®šåˆ¶ç»„ä»¶éœ€ä¾µå…¥å¼ä¿®æ”¹å¼•æ“æºç   

**è¿ç§»ä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯æ•ˆèƒ½é©å‘½çš„å¼€å§‹**ã€‚å€ŸåŠ©VitePressçš„ç°ä»£åŒ–å·¥å…·é“¾ï¼Œå¼€å‘è€…å¯èšç„¦äºå†…å®¹åˆ›ä½œè€Œéç¯å¢ƒè°ƒä¼˜ã€‚  

> ğŸŒ **é¡¹ç›®åœ°å€**ï¼š  
> - å®Œæ•´è¿ç§»è®°å½•ï¼š[github.com/Freedyool/c4model-cn](https://github.com/Freedyool/c4model-cn)  
> - åœ¨çº¿æ–‡æ¡£ï¼š[c4.yooll.ltd](https://c4.yooll.ltd)  

--- 

**æ³¨**ï¼šæœ¬æ–‡æŠ€æœ¯æ–¹æ¡ˆå·²é€‚é…å›½å†…ç½‘ç»œç¯å¢ƒï¼ˆå«é•œåƒæºé…ç½®ä¸CDNä¼˜åŒ–ï¼‰ï¼Œéƒ¨ç½²æˆåŠŸç‡>98%ã€‚å¦‚éœ€å®šåˆ¶åŒ–è¿ç§»è„šæœ¬ï¼Œå¯å‚è€ƒä»“åº“`/migration-tools`ç›®å½•ã€‚